function facebook_connect(o,i){hello("facebook").login().then(function(){console.log("logged in to Facebook"),hello("facebook").api("me").then(function(e){"login"==o?social_login(e,i):social_registration(e,i)})},function(o){console.log(o.error_message)})}function twitter_connect(o,i){hello("twitter").login().then(function(){console.log("logged in to Twitter"),hello("twitter").api("me").then(function(e){"login"==o?social_login(e,i):social_registration(e,i)})},function(o){console.log(o.error_message)})}function github_connect(o,i){hello("github").login().then(function(){console.log("logged in to GitHub"),hello("github").api("me").then(function(e){"login"==o?social_login(e,i):social_registration(e,i)})},function(o){console.log(o.error_message)})}function social_login(o,i){var e={social_id:o.id};o.email&&(e.user_email=o.email),$.post(url+"/social_login",e,function(o){o.ID&&redirect_user(i&&i.redirect?i.redirect:location.href)})}function social_registration(o,i){var e={social_id:o.id};o.email&&(e.user_email=o.email),o.first_name&&(e.first_name=o.first_name),i.first_name&&(e.first_name=i.first_name),o.last_name&&(e.last_name=o.last_name),i.last_name&&(e.last_name=i.last_name),i.nickname&&(e.nickname=i.nickname),$.post(url+"/social_registration",e,function(o){o.ID&&redirect_user(i&&i.redirect?i.redirect:location.href)}).fail(function(o){alert(o.responseJSON[0].message)})}function redirect_user(o){window.location.href=o}var $=jQuery,url=socialLogin.api_url;$(document).ready(function(){hello.init({facebook:socialLogin.facebook,twitter:socialLogin.twitter,github:socialLogin.github},{scope:"email"}),$("body").on("click",".social-login",function(o){o.preventDefault();var i=$(this).data("network"),e="register",e=$(this).data("social-action");"facebook"==i?facebook_connect(e):"twitter"==i?twitter_connect(e):"github"==i&&github_connect(e)})});